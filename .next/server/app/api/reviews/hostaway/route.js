"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/reviews/hostaway/route";
exports.ids = ["app/api/reviews/hostaway/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Freviews%2Fhostaway%2Froute&page=%2Fapi%2Freviews%2Fhostaway%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Freviews%2Fhostaway%2Froute.ts&appDir=%2FUsers%2Fsupreethreddy%2FDownloads%2Fflex-project%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsupreethreddy%2FDownloads%2Fflex-project&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Freviews%2Fhostaway%2Froute&page=%2Fapi%2Freviews%2Fhostaway%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Freviews%2Fhostaway%2Froute.ts&appDir=%2FUsers%2Fsupreethreddy%2FDownloads%2Fflex-project%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsupreethreddy%2FDownloads%2Fflex-project&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_supreethreddy_Downloads_flex_project_app_api_reviews_hostaway_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/reviews/hostaway/route.ts */ \"(rsc)/./app/api/reviews/hostaway/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/reviews/hostaway/route\",\n        pathname: \"/api/reviews/hostaway\",\n        filename: \"route\",\n        bundlePath: \"app/api/reviews/hostaway/route\"\n    },\n    resolvedPagePath: \"/Users/supreethreddy/Downloads/flex-project/app/api/reviews/hostaway/route.ts\",\n    nextConfigOutput,\n    userland: _Users_supreethreddy_Downloads_flex_project_app_api_reviews_hostaway_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/reviews/hostaway/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZyZXZpZXdzJTJGaG9zdGF3YXklMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnJldmlld3MlMkZob3N0YXdheSUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnJldmlld3MlMkZob3N0YXdheSUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRnN1cHJlZXRocmVkZHklMkZEb3dubG9hZHMlMkZmbGV4LXByb2plY3QlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGc3VwcmVldGhyZWRkeSUyRkRvd25sb2FkcyUyRmZsZXgtcHJvamVjdCZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDNkI7QUFDMUc7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mbGV4LXJldmlld3MvP2U3Y2MiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL1VzZXJzL3N1cHJlZXRocmVkZHkvRG93bmxvYWRzL2ZsZXgtcHJvamVjdC9hcHAvYXBpL3Jldmlld3MvaG9zdGF3YXkvcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3Jldmlld3MvaG9zdGF3YXkvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9yZXZpZXdzL2hvc3Rhd2F5XCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9yZXZpZXdzL2hvc3Rhd2F5L3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL1VzZXJzL3N1cHJlZXRocmVkZHkvRG93bmxvYWRzL2ZsZXgtcHJvamVjdC9hcHAvYXBpL3Jldmlld3MvaG9zdGF3YXkvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL3Jldmlld3MvaG9zdGF3YXkvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Freviews%2Fhostaway%2Froute&page=%2Fapi%2Freviews%2Fhostaway%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Freviews%2Fhostaway%2Froute.ts&appDir=%2FUsers%2Fsupreethreddy%2FDownloads%2Fflex-project%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsupreethreddy%2FDownloads%2Fflex-project&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/reviews/hostaway/route.ts":
/*!*******************************************!*\
  !*** ./app/api/reviews/hostaway/route.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var _lib_normalize__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/normalize */ \"(rsc)/./lib/normalize.ts\");\n/* harmony import */ var _data_hostaway_mock_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/data/hostaway-mock.json */ \"(rsc)/./data/hostaway-mock.json\");\n\n\nasync function GET(req) {\n    const accountId = process.env.HOSTAWAY_ACCOUNT_ID || \"61148\";\n    const apiKey = process.env.HOSTAWAY_API_KEY || \"f94377ebbbb479490bb3ec364649168dc443dda2e4830facaf5de2e74ccc9152\";\n    const raw = _data_hostaway_mock_json__WEBPACK_IMPORTED_MODULE_1__.result;\n    const normalized = (0,_lib_normalize__WEBPACK_IMPORTED_MODULE_0__.normalizeHostaway)(raw);\n    return Response.json(normalized, {\n        status: 200\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL3Jldmlld3MvaG9zdGF3YXkvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQ21EO0FBQ1A7QUFHckMsZUFBZUUsSUFBSUMsR0FBZ0I7SUFDeEMsTUFBTUMsWUFBWUMsUUFBUUMsR0FBRyxDQUFDQyxtQkFBbUIsSUFBSTtJQUNyRCxNQUFNQyxTQUFTSCxRQUFRQyxHQUFHLENBQUNHLGdCQUFnQixJQUFJO0lBQy9DLE1BQU1DLE1BQU0sNERBQW9CO0lBQ2hDLE1BQU1FLGFBQWFaLGlFQUFpQkEsQ0FBQ1U7SUFDckMsT0FBT0csU0FBU0MsSUFBSSxDQUFDRixZQUFZO1FBQUVHLFFBQVE7SUFBSTtBQUNqRCIsInNvdXJjZXMiOlsid2VicGFjazovL2ZsZXgtcmV2aWV3cy8uL2FwcC9hcGkvcmV2aWV3cy9ob3N0YXdheS9yb3V0ZS50cz9mZTAyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0IH0gZnJvbSAnbmV4dC9zZXJ2ZXInXG5pbXBvcnQgeyBub3JtYWxpemVIb3N0YXdheSB9IGZyb20gJ0AvbGliL25vcm1hbGl6ZSdcbmltcG9ydCBtb2NrIGZyb20gJ0AvZGF0YS9ob3N0YXdheS1tb2NrLmpzb24nXG5pbXBvcnQgeyBIb3N0YXdheVJhd1JldmlldyB9IGZyb20gJ0AvbGliL3R5cGVzJ1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcTogTmV4dFJlcXVlc3QpIHtcbiAgY29uc3QgYWNjb3VudElkID0gcHJvY2Vzcy5lbnYuSE9TVEFXQVlfQUNDT1VOVF9JRCB8fCAnNjExNDgnXG4gIGNvbnN0IGFwaUtleSA9IHByb2Nlc3MuZW52LkhPU1RBV0FZX0FQSV9LRVkgfHwgJ2Y5NDM3N2ViYmJiNDc5NDkwYmIzZWMzNjQ2NDkxNjhkYzQ0M2RkYTJlNDgzMGZhY2FmNWRlMmU3NGNjYzkxNTInXG4gIGNvbnN0IHJhdyA9IChtb2NrIGFzIGFueSkucmVzdWx0IGFzIEhvc3Rhd2F5UmF3UmV2aWV3W11cbiAgY29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZUhvc3Rhd2F5KHJhdylcbiAgcmV0dXJuIFJlc3BvbnNlLmpzb24obm9ybWFsaXplZCwgeyBzdGF0dXM6IDIwMCB9KVxufVxuIl0sIm5hbWVzIjpbIm5vcm1hbGl6ZUhvc3Rhd2F5IiwibW9jayIsIkdFVCIsInJlcSIsImFjY291bnRJZCIsInByb2Nlc3MiLCJlbnYiLCJIT1NUQVdBWV9BQ0NPVU5UX0lEIiwiYXBpS2V5IiwiSE9TVEFXQVlfQVBJX0tFWSIsInJhdyIsInJlc3VsdCIsIm5vcm1hbGl6ZWQiLCJSZXNwb25zZSIsImpzb24iLCJzdGF0dXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/reviews/hostaway/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/metrics.ts":
/*!************************!*\
  !*** ./lib/metrics.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   computeMetricsForReviews: () => (/* binding */ computeMetricsForReviews)\n/* harmony export */ });\nfunction computeMetricsForReviews(reviews) {\n    const count = reviews.length;\n    if (!count) return {\n        count: 0,\n        avgOverall: null,\n        avgByCategory: {},\n        lastReviewAt: null\n    };\n    const overall = reviews.map((r)=>r.overallRating).filter((x)=>typeof x === \"number\");\n    const avgOverall = overall.length ? parseFloat((overall.reduce((a, b)=>a + b, 0) / overall.length).toFixed(2)) : null;\n    const catMap = {};\n    for (const r of reviews){\n        for (const [k, v] of Object.entries(r.categories)){\n            if (typeof v !== \"number\") continue;\n            if (!catMap[k]) catMap[k] = {\n                sum: 0,\n                n: 0\n            };\n            catMap[k].sum += v;\n            catMap[k].n += 1;\n        }\n    }\n    const avgByCategory = Object.fromEntries(Object.entries(catMap).map(([k, v])=>[\n            k,\n            parseFloat((v.sum / v.n).toFixed(2))\n        ]));\n    const lastReviewAt = reviews.map((r)=>r.submittedAt).sort().at(-1) ?? null;\n    return {\n        count,\n        avgOverall,\n        avgByCategory,\n        lastReviewAt\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvbWV0cmljcy50cyIsIm1hcHBpbmdzIjoiOzs7O0FBRU8sU0FBU0EseUJBQXlCQyxPQUEyQjtJQUNsRSxNQUFNQyxRQUFRRCxRQUFRRSxNQUFNO0lBQzVCLElBQUksQ0FBQ0QsT0FBTyxPQUFPO1FBQUVBLE9BQU87UUFBR0UsWUFBWTtRQUFNQyxlQUFlLENBQUM7UUFBR0MsY0FBYztJQUFLO0lBQ3ZGLE1BQU1DLFVBQVVOLFFBQVFPLEdBQUcsQ0FBQ0MsQ0FBQUEsSUFBS0EsRUFBRUMsYUFBYSxFQUFFQyxNQUFNLENBQUMsQ0FBQ0MsSUFBbUIsT0FBT0EsTUFBTTtJQUMxRixNQUFNUixhQUFhRyxRQUFRSixNQUFNLEdBQUdVLFdBQVcsQ0FBQ04sUUFBUU8sTUFBTSxDQUFDLENBQUNDLEdBQUVDLElBQUlELElBQUVDLEdBQUUsS0FBR1QsUUFBUUosTUFBTSxFQUFFYyxPQUFPLENBQUMsTUFBTTtJQUMzRyxNQUFNQyxTQUFxRCxDQUFDO0lBQzVELEtBQUssTUFBTVQsS0FBS1IsUUFBUztRQUN2QixLQUFLLE1BQU0sQ0FBQ2tCLEdBQUdDLEVBQUUsSUFBSUMsT0FBT0MsT0FBTyxDQUFDYixFQUFFYyxVQUFVLEVBQUc7WUFDakQsSUFBSSxPQUFPSCxNQUFNLFVBQVU7WUFDM0IsSUFBSSxDQUFDRixNQUFNLENBQUNDLEVBQUUsRUFBRUQsTUFBTSxDQUFDQyxFQUFFLEdBQUc7Z0JBQUVLLEtBQUs7Z0JBQUdDLEdBQUc7WUFBRTtZQUMzQ1AsTUFBTSxDQUFDQyxFQUFFLENBQUNLLEdBQUcsSUFBSUo7WUFDakJGLE1BQU0sQ0FBQ0MsRUFBRSxDQUFDTSxDQUFDLElBQUk7UUFDakI7SUFDRjtJQUNBLE1BQU1wQixnQkFBZ0JnQixPQUFPSyxXQUFXLENBQUNMLE9BQU9DLE9BQU8sQ0FBQ0osUUFBUVYsR0FBRyxDQUFDLENBQUMsQ0FBQ1csR0FBR0MsRUFBRSxHQUFLO1lBQUNEO1lBQUdOLFdBQVcsQ0FBQ08sRUFBRUksR0FBRyxHQUFHSixFQUFFSyxDQUFDLEVBQUVSLE9BQU8sQ0FBQztTQUFJO0lBQ3pILE1BQU1YLGVBQWVMLFFBQVFPLEdBQUcsQ0FBQ0MsQ0FBQUEsSUFBS0EsRUFBRWtCLFdBQVcsRUFBRUMsSUFBSSxHQUFHQyxFQUFFLENBQUMsQ0FBQyxNQUFNO0lBQ3RFLE9BQU87UUFBRTNCO1FBQU9FO1FBQVlDO1FBQWVDO0lBQWE7QUFDMUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mbGV4LXJldmlld3MvLi9saWIvbWV0cmljcy50cz9hMzA4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IExpc3RpbmdCdWNrZXQsIE5vcm1hbGl6ZWRSZXZpZXcgfSBmcm9tICcuL3R5cGVzJ1xuXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZU1ldHJpY3NGb3JSZXZpZXdzKHJldmlld3M6IE5vcm1hbGl6ZWRSZXZpZXdbXSk6IExpc3RpbmdCdWNrZXRbJ21ldHJpY3MnXSB7XG4gIGNvbnN0IGNvdW50ID0gcmV2aWV3cy5sZW5ndGhcbiAgaWYgKCFjb3VudCkgcmV0dXJuIHsgY291bnQ6IDAsIGF2Z092ZXJhbGw6IG51bGwsIGF2Z0J5Q2F0ZWdvcnk6IHt9LCBsYXN0UmV2aWV3QXQ6IG51bGwgfVxuICBjb25zdCBvdmVyYWxsID0gcmV2aWV3cy5tYXAociA9PiByLm92ZXJhbGxSYXRpbmcpLmZpbHRlcigoeCk6IHggaXMgbnVtYmVyID0+IHR5cGVvZiB4ID09PSAnbnVtYmVyJylcbiAgY29uc3QgYXZnT3ZlcmFsbCA9IG92ZXJhbGwubGVuZ3RoID8gcGFyc2VGbG9hdCgob3ZlcmFsbC5yZWR1Y2UoKGEsYik9PmErYiwwKS9vdmVyYWxsLmxlbmd0aCkudG9GaXhlZCgyKSkgOiBudWxsXG4gIGNvbnN0IGNhdE1hcDogUmVjb3JkPHN0cmluZywgeyBzdW06IG51bWJlcjsgbjogbnVtYmVyIH0+ID0ge31cbiAgZm9yIChjb25zdCByIG9mIHJldmlld3MpIHtcbiAgICBmb3IgKGNvbnN0IFtrLCB2XSBvZiBPYmplY3QuZW50cmllcyhyLmNhdGVnb3JpZXMpKSB7XG4gICAgICBpZiAodHlwZW9mIHYgIT09ICdudW1iZXInKSBjb250aW51ZVxuICAgICAgaWYgKCFjYXRNYXBba10pIGNhdE1hcFtrXSA9IHsgc3VtOiAwLCBuOiAwIH1cbiAgICAgIGNhdE1hcFtrXS5zdW0gKz0gdlxuICAgICAgY2F0TWFwW2tdLm4gKz0gMVxuICAgIH1cbiAgfVxuICBjb25zdCBhdmdCeUNhdGVnb3J5ID0gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKGNhdE1hcCkubWFwKChbaywgdl0pID0+IFtrLCBwYXJzZUZsb2F0KCh2LnN1bSAvIHYubikudG9GaXhlZCgyKSldKSkgYXMgTGlzdGluZ0J1Y2tldFsnbWV0cmljcyddWydhdmdCeUNhdGVnb3J5J11cbiAgY29uc3QgbGFzdFJldmlld0F0ID0gcmV2aWV3cy5tYXAociA9PiByLnN1Ym1pdHRlZEF0KS5zb3J0KCkuYXQoLTEpID8/IG51bGxcbiAgcmV0dXJuIHsgY291bnQsIGF2Z092ZXJhbGwsIGF2Z0J5Q2F0ZWdvcnksIGxhc3RSZXZpZXdBdCB9XG59XG4iXSwibmFtZXMiOlsiY29tcHV0ZU1ldHJpY3NGb3JSZXZpZXdzIiwicmV2aWV3cyIsImNvdW50IiwibGVuZ3RoIiwiYXZnT3ZlcmFsbCIsImF2Z0J5Q2F0ZWdvcnkiLCJsYXN0UmV2aWV3QXQiLCJvdmVyYWxsIiwibWFwIiwiciIsIm92ZXJhbGxSYXRpbmciLCJmaWx0ZXIiLCJ4IiwicGFyc2VGbG9hdCIsInJlZHVjZSIsImEiLCJiIiwidG9GaXhlZCIsImNhdE1hcCIsImsiLCJ2IiwiT2JqZWN0IiwiZW50cmllcyIsImNhdGVnb3JpZXMiLCJzdW0iLCJuIiwiZnJvbUVudHJpZXMiLCJzdWJtaXR0ZWRBdCIsInNvcnQiLCJhdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/metrics.ts\n");

/***/ }),

/***/ "(rsc)/./lib/normalize.ts":
/*!**************************!*\
  !*** ./lib/normalize.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   normalizeHostaway: () => (/* binding */ normalizeHostaway)\n/* harmony export */ });\n/* harmony import */ var _barrel_optimize_names_formatISO_date_fns__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! __barrel_optimize__?names=formatISO!=!date-fns */ \"(rsc)/./node_modules/date-fns/formatISO.mjs\");\n/* harmony import */ var _metrics__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./metrics */ \"(rsc)/./lib/metrics.ts\");\n\n\nfunction normalizeHostaway(raw) {\n    const dx = {};\n    for (const r of raw){\n        const listingId = String(r.listingId ?? r.listingName);\n        const review = {\n            id: String(r.id),\n            source: \"hostaway\",\n            channel: r.channel ?? \"other\",\n            listingId,\n            listingName: r.listingName,\n            type: r.type,\n            status: r.status,\n            overallRating: r.rating,\n            categories: Object.fromEntries((r.reviewCategory || []).map((rc)=>[\n                    rc.category,\n                    rc.rating\n                ])),\n            submittedAt: new Date(r.submittedAt.replace(\" \", \"T\") + \"Z\").toISOString(),\n            guestName: r.guestName,\n            text: r.publicReview,\n            approved: false\n        };\n        if (!dx[listingId]) {\n            dx[listingId] = {\n                listingId,\n                listingName: r.listingName,\n                source: \"hostaway\",\n                reviews: [],\n                metrics: {\n                    count: 0,\n                    avgOverall: null,\n                    avgByCategory: {},\n                    lastReviewAt: null\n                }\n            };\n        }\n        dx[listingId].reviews.push(review);\n    }\n    const buckets = Object.values(dx);\n    for (const b of buckets)b.metrics = (0,_metrics__WEBPACK_IMPORTED_MODULE_0__.computeMetricsForReviews)(b.reviews);\n    return {\n        status: \"ok\",\n        generatedAt: (0,_barrel_optimize_names_formatISO_date_fns__WEBPACK_IMPORTED_MODULE_1__.formatISO)(new Date()),\n        listings: buckets.sort((a, b)=>(b.metrics.avgOverall ?? 0) - (a.metrics.avgOverall ?? 0))\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvbm9ybWFsaXplLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFvQztBQUVnQjtBQUU3QyxTQUFTRSxrQkFBa0JDLEdBQXdCO0lBQ3hELE1BQU1DLEtBQW9DLENBQUM7SUFDM0MsS0FBSyxNQUFNQyxLQUFLRixJQUFLO1FBQ25CLE1BQU1HLFlBQVlDLE9BQU9GLEVBQUVDLFNBQVMsSUFBSUQsRUFBRUcsV0FBVztRQUNyRCxNQUFNQyxTQUEyQjtZQUMvQkMsSUFBSUgsT0FBT0YsRUFBRUssRUFBRTtZQUNmQyxRQUFRO1lBQ1JDLFNBQVVQLEVBQUVPLE9BQU8sSUFBSTtZQUN2Qk47WUFDQUUsYUFBYUgsRUFBRUcsV0FBVztZQUMxQkssTUFBTVIsRUFBRVEsSUFBSTtZQUNaQyxRQUFRVCxFQUFFUyxNQUFNO1lBQ2hCQyxlQUFlVixFQUFFVyxNQUFNO1lBQ3ZCQyxZQUFZQyxPQUFPQyxXQUFXLENBQUMsQ0FBQ2QsRUFBRWUsY0FBYyxJQUFJLEVBQUUsRUFBRUMsR0FBRyxDQUFDQyxDQUFBQSxLQUFNO29CQUFDQSxHQUFHQyxRQUFRO29CQUFFRCxHQUFHTixNQUFNO2lCQUFDO1lBQzFGUSxhQUFhLElBQUlDLEtBQUtwQixFQUFFbUIsV0FBVyxDQUFDRSxPQUFPLENBQUMsS0FBSyxPQUFPLEtBQUtDLFdBQVc7WUFDeEVDLFdBQVd2QixFQUFFdUIsU0FBUztZQUN0QkMsTUFBTXhCLEVBQUV5QixZQUFZO1lBQ3BCQyxVQUFVO1FBQ1o7UUFDQSxJQUFJLENBQUMzQixFQUFFLENBQUNFLFVBQVUsRUFBRTtZQUNsQkYsRUFBRSxDQUFDRSxVQUFVLEdBQUc7Z0JBQ2RBO2dCQUNBRSxhQUFhSCxFQUFFRyxXQUFXO2dCQUMxQkcsUUFBUTtnQkFDUnFCLFNBQVMsRUFBRTtnQkFDWEMsU0FBUztvQkFBRUMsT0FBTztvQkFBR0MsWUFBWTtvQkFBTUMsZUFBZSxDQUFDO29CQUFHQyxjQUFjO2dCQUFLO1lBQy9FO1FBQ0Y7UUFDQWpDLEVBQUUsQ0FBQ0UsVUFBVSxDQUFDMEIsT0FBTyxDQUFDTSxJQUFJLENBQUM3QjtJQUM3QjtJQUNBLE1BQU04QixVQUFVckIsT0FBT3NCLE1BQU0sQ0FBQ3BDO0lBQzlCLEtBQUssTUFBTXFDLEtBQUtGLFFBQVNFLEVBQUVSLE9BQU8sR0FBR2hDLGtFQUF3QkEsQ0FBQ3dDLEVBQUVULE9BQU87SUFDdkUsT0FBTztRQUNMbEIsUUFBUTtRQUNSNEIsYUFBYTFDLG9GQUFTQSxDQUFDLElBQUl5QjtRQUMzQmtCLFVBQVVKLFFBQVFLLElBQUksQ0FBQyxDQUFDQyxHQUFHSixJQUFNLENBQUNBLEVBQUVSLE9BQU8sQ0FBQ0UsVUFBVSxJQUFJLEtBQU1VLENBQUFBLEVBQUVaLE9BQU8sQ0FBQ0UsVUFBVSxJQUFJO0lBQzFGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mbGV4LXJldmlld3MvLi9saWIvbm9ybWFsaXplLnRzPzY1MzEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZm9ybWF0SVNPIH0gZnJvbSAnZGF0ZS1mbnMnXG5pbXBvcnQgeyBIb3N0YXdheU5vcm1hbGl6ZWRSZXNwb25zZSwgSG9zdGF3YXlSYXdSZXZpZXcsIExpc3RpbmdCdWNrZXQsIE5vcm1hbGl6ZWRSZXZpZXcgfSBmcm9tICcuL3R5cGVzJ1xuaW1wb3J0IHsgY29tcHV0ZU1ldHJpY3NGb3JSZXZpZXdzIH0gZnJvbSAnLi9tZXRyaWNzJ1xuXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplSG9zdGF3YXkocmF3OiBIb3N0YXdheVJhd1Jldmlld1tdKTogSG9zdGF3YXlOb3JtYWxpemVkUmVzcG9uc2Uge1xuICBjb25zdCBkeDogUmVjb3JkPHN0cmluZywgTGlzdGluZ0J1Y2tldD4gPSB7fVxuICBmb3IgKGNvbnN0IHIgb2YgcmF3KSB7XG4gICAgY29uc3QgbGlzdGluZ0lkID0gU3RyaW5nKHIubGlzdGluZ0lkID8/IHIubGlzdGluZ05hbWUpXG4gICAgY29uc3QgcmV2aWV3OiBOb3JtYWxpemVkUmV2aWV3ID0ge1xuICAgICAgaWQ6IFN0cmluZyhyLmlkKSxcbiAgICAgIHNvdXJjZTogJ2hvc3Rhd2F5JyxcbiAgICAgIGNoYW5uZWw6IChyLmNoYW5uZWwgPz8gJ290aGVyJyksXG4gICAgICBsaXN0aW5nSWQsXG4gICAgICBsaXN0aW5nTmFtZTogci5saXN0aW5nTmFtZSxcbiAgICAgIHR5cGU6IHIudHlwZSxcbiAgICAgIHN0YXR1czogci5zdGF0dXMsXG4gICAgICBvdmVyYWxsUmF0aW5nOiByLnJhdGluZyxcbiAgICAgIGNhdGVnb3JpZXM6IE9iamVjdC5mcm9tRW50cmllcygoci5yZXZpZXdDYXRlZ29yeSB8fCBbXSkubWFwKHJjID0+IFtyYy5jYXRlZ29yeSwgcmMucmF0aW5nXSkpLFxuICAgICAgc3VibWl0dGVkQXQ6IG5ldyBEYXRlKHIuc3VibWl0dGVkQXQucmVwbGFjZSgnICcsICdUJykgKyAnWicpLnRvSVNPU3RyaW5nKCksXG4gICAgICBndWVzdE5hbWU6IHIuZ3Vlc3ROYW1lLFxuICAgICAgdGV4dDogci5wdWJsaWNSZXZpZXcsXG4gICAgICBhcHByb3ZlZDogZmFsc2VcbiAgICB9XG4gICAgaWYgKCFkeFtsaXN0aW5nSWRdKSB7XG4gICAgICBkeFtsaXN0aW5nSWRdID0ge1xuICAgICAgICBsaXN0aW5nSWQsXG4gICAgICAgIGxpc3RpbmdOYW1lOiByLmxpc3RpbmdOYW1lLFxuICAgICAgICBzb3VyY2U6ICdob3N0YXdheScsXG4gICAgICAgIHJldmlld3M6IFtdLFxuICAgICAgICBtZXRyaWNzOiB7IGNvdW50OiAwLCBhdmdPdmVyYWxsOiBudWxsLCBhdmdCeUNhdGVnb3J5OiB7fSwgbGFzdFJldmlld0F0OiBudWxsIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZHhbbGlzdGluZ0lkXS5yZXZpZXdzLnB1c2gocmV2aWV3KVxuICB9XG4gIGNvbnN0IGJ1Y2tldHMgPSBPYmplY3QudmFsdWVzKGR4KVxuICBmb3IgKGNvbnN0IGIgb2YgYnVja2V0cykgYi5tZXRyaWNzID0gY29tcHV0ZU1ldHJpY3NGb3JSZXZpZXdzKGIucmV2aWV3cylcbiAgcmV0dXJuIHtcbiAgICBzdGF0dXM6ICdvaycsXG4gICAgZ2VuZXJhdGVkQXQ6IGZvcm1hdElTTyhuZXcgRGF0ZSgpKSxcbiAgICBsaXN0aW5nczogYnVja2V0cy5zb3J0KChhLCBiKSA9PiAoYi5tZXRyaWNzLmF2Z092ZXJhbGwgPz8gMCkgLSAoYS5tZXRyaWNzLmF2Z092ZXJhbGwgPz8gMCkpXG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJmb3JtYXRJU08iLCJjb21wdXRlTWV0cmljc0ZvclJldmlld3MiLCJub3JtYWxpemVIb3N0YXdheSIsInJhdyIsImR4IiwiciIsImxpc3RpbmdJZCIsIlN0cmluZyIsImxpc3RpbmdOYW1lIiwicmV2aWV3IiwiaWQiLCJzb3VyY2UiLCJjaGFubmVsIiwidHlwZSIsInN0YXR1cyIsIm92ZXJhbGxSYXRpbmciLCJyYXRpbmciLCJjYXRlZ29yaWVzIiwiT2JqZWN0IiwiZnJvbUVudHJpZXMiLCJyZXZpZXdDYXRlZ29yeSIsIm1hcCIsInJjIiwiY2F0ZWdvcnkiLCJzdWJtaXR0ZWRBdCIsIkRhdGUiLCJyZXBsYWNlIiwidG9JU09TdHJpbmciLCJndWVzdE5hbWUiLCJ0ZXh0IiwicHVibGljUmV2aWV3IiwiYXBwcm92ZWQiLCJyZXZpZXdzIiwibWV0cmljcyIsImNvdW50IiwiYXZnT3ZlcmFsbCIsImF2Z0J5Q2F0ZWdvcnkiLCJsYXN0UmV2aWV3QXQiLCJwdXNoIiwiYnVja2V0cyIsInZhbHVlcyIsImIiLCJnZW5lcmF0ZWRBdCIsImxpc3RpbmdzIiwic29ydCIsImEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/normalize.ts\n");

/***/ }),

/***/ "(rsc)/./data/hostaway-mock.json":
/*!*********************************!*\
  !*** ./data/hostaway-mock.json ***!
  \*********************************/
/***/ ((module) => {

module.exports = /*#__PURE__*/JSON.parse('{"status":"success","result":[{"id":7453,"type":"host-to-guest","status":"published","rating":5,"publicReview":"Shane and family are wonderful! Would definitely host again :)","reviewCategory":[{"category":"cleanliness","rating":10},{"category":"communication","rating":10},{"category":"respect_house_rules","rating":10}],"submittedAt":"2020-08-21 22:45:14","guestName":"Shane Finkelstein","listingName":"2B N1 A - 29 Shoreditch Heights","listingId":"2B-N1-A","channel":"airbnb"},{"id":8120,"type":"guest-to-host","status":"published","rating":4,"publicReview":"Lovely flat, spotless and close to the tube. Street can be a bit lively on weekends.","reviewCategory":[{"category":"cleanliness","rating":9},{"category":"communication","rating":9},{"category":"location","rating":8},{"category":"value","rating":8}],"submittedAt":"2023-09-05 10:12:00","guestName":"Maria G.","listingName":"2B N1 A - 29 Shoreditch Heights","listingId":"2B-N1-A","channel":"airbnb"},{"id":9001,"type":"guest-to-host","status":"published","rating":2,"publicReview":"Check-in was confusing and Wi‑Fi dropped a lot.","reviewCategory":[{"category":"communication","rating":5},{"category":"accuracy","rating":6},{"category":"value","rating":5}],"submittedAt":"2024-03-15 18:22:17","guestName":"Ethan R.","listingName":"3C W2 B - Paddington Loft","listingId":"3C-W2-B","channel":"booking"}]}');

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/date-fns"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Freviews%2Fhostaway%2Froute&page=%2Fapi%2Freviews%2Fhostaway%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Freviews%2Fhostaway%2Froute.ts&appDir=%2FUsers%2Fsupreethreddy%2FDownloads%2Fflex-project%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsupreethreddy%2FDownloads%2Fflex-project&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();